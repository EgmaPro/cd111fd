local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Window = Rayfield:CreateWindow({
    Name = "ЧИТ ДЛЯ ХУЕСОСОВ",
    LoadingTitle = "Загрузка читов...",
    LoadingSubtitle = "by I.S.-1",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "IS1 Cheats",
        FileName = "Config.json"
    },
    Discord = {
        Enabled = false,
        Invite = "noinvitelol",
        RememberJoins = true
    }
})

Rayfield:Notify({
    Title = "ЧИТ АКТИВИРОВАН",
    Content = "Добро пожаловать в ад, уёбок",
    Duration = 6.5,
    Image = 4483362458,
    Actions = {
        Ignore = {
            Name = "Похуй",
            Callback = function()
            end
        }
    }
})

local MainTab = Window:CreateTab("Основное", 4483362458)
local RehopSection = MainTab:CreateSection("Rehop функция")

local RehopButton = MainTab:CreateButton({
    Name = "Rehop Server",
    Callback = function()
        Rayfield:Notify({
            Title = "НАЧИНАЕМ РЕХОП",
            Content = "Ищем новый сервер, еблан...",
            Duration = 3,
            Image = 4483362458
        })
        
        -- ТВОЯ ФУНКЦИЯ РЕХОПА
        local function StartRehop()
            local PlaceID = game.PlaceId
            local AllIDs = {}
            local foundAnything = ""
            local actualHour = os.date("!*t").hour
            local Deleted = false
            
            local File = pcall(function()
                AllIDs = game:GetService('HttpService'):JSONDecode(readfile("NotSameServers.json"))
            end)
            
            if not File then
                table.insert(AllIDs, actualHour)
                writefile("NotSameServers.json", game:GetService('HttpService'):JSONEncode(AllIDs))
            end
            
            local function TPReturner()
                local Site;
                if foundAnything == "" then
                    Site = game.HttpService:JSONDecode(game:HttpGet('https://games.roblox.com/v1/games/' .. PlaceID .. '/servers/Public?sortOrder=Asc&limit=100'))
                else
                    Site = game.HttpService:JSONDecode(game:HttpGet('https://games.roblox.com/v1/games/' .. PlaceID .. '/servers/Public?sortOrder=Asc&limit=100&cursor=' .. foundAnything))
                end
                
                local ID = ""
                if Site.nextPageCursor and Site.nextPageCursor ~= "null" and Site.nextPageCursor ~= nil then
                    foundAnything = Site.nextPageCursor
                end
                
                local num = 0;
                for i,v in pairs(Site.data) do
                    local Possible = true
                    ID = tostring(v.id)
                    if tonumber(v.maxPlayers) > tonumber(v.playing) then
                        for _,Existing in pairs(AllIDs) do
                            if num ~= 0 then
                                if ID == tostring(Existing) then
                                    Possible = false
                                end
                            else
                                if tonumber(actualHour) ~= tonumber(Existing) then
                                    local delFile = pcall(function()
                                        delfile("NotSameServers.json")
                                        AllIDs = {}
                                        table.insert(AllIDs, actualHour)
                                    end)
                                end
                            end
                            num = num + 1
                        end
                        
                        if Possible == true then
                            table.insert(AllIDs, ID)
                            wait()
                            pcall(function()
                                writefile("NotSameServers.json", game:GetService('HttpService'):JSONEncode(AllIDs))
                                wait()
                                game:GetService("TeleportService"):TeleportToPlaceInstance(PlaceID, ID, game.Players.LocalPlayer)
                            end)
                            wait(4)
                        end
                    end
                end
            end
            
            local function Teleport()
                while wait() do
                    pcall(function()
                        TPReturner()
                        if foundAnything ~= "" then
                            TPReturner()
                        end
                    end)
                end
            end
            
            Teleport()
        end
        
        StartRehop()
    end
})

-- АВТОМАТИЧЕСКИЙ ПЕРЕЗАПУСК СКРИПТА ПОСЛЕ ТЕЛЕПОРТА
game:GetService("Players").LocalPlayer.OnTeleport:Connect(function(State)
    if State == Enum.TeleportState.InProgress then
        -- Сохраняем скрипт для авто-перезапуска
        queue_on_teleport([[
            wait(5)
            loadstring(game:HttpGet('https://raw.githubusercontent.com/IS1-Cheats/Roblox/main/cheat.lua'))()
        ]])
    end
end)

Rayfield:Notify({
    Title = "СКРИПТ ЗАГРУЖЕН",
    Content = "Нажми Rehop и наслаждайся, мудила",
    Duration = 5,
    Image = 4483362458
})
